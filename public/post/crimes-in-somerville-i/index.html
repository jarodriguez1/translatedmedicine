<!DOCTYPE html>
<html lang="en-us">
	<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="author" content="Jorge A Rodriguez MD">
<meta name="description" content="Bridging the digital divide in digital health">
<meta name="generator" content="Hugo 0.31.1" />
<title>Crimes in Somerville (Time Series)</title>
<link rel="shortcut icon" href="/images/favicon.ico">
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/highlight.css">

<link rel="stylesheet" href="/css/my_css.css">



<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">




<meta property="og:title" content="Crimes in Somerville (Time Series)" />
<meta property="og:description" content="I recently spotted a time series heat map. So I started on a quest to make my own. Luckily, I found some local data to start with: crimes in Somerville, MA. This data set includes selected crimes in Somerville from 2005-2017.
Handy Packageslibrary(tidyverse)library(lubridate)library(ggthemes)library(plotly)Getting the Datasomerville = read.csv(&quot;Police_-_Selected_Criminal_Incidents.csv&quot;)Cleaning the DataRemove 2018 data since the year has just started." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/post/crimes-in-somerville-i/" />



<meta property="article:published_time" content="2018-01-09T00:00:00&#43;00:00"/>

<meta property="article:modified_time" content="2018-01-09T00:00:00&#43;00:00"/>













<meta itemprop="name" content="Crimes in Somerville (Time Series)">
<meta itemprop="description" content="I recently spotted a time series heat map. So I started on a quest to make my own. Luckily, I found some local data to start with: crimes in Somerville, MA. This data set includes selected crimes in Somerville from 2005-2017.
Handy Packageslibrary(tidyverse)library(lubridate)library(ggthemes)library(plotly)Getting the Datasomerville = read.csv(&quot;Police_-_Selected_Criminal_Incidents.csv&quot;)Cleaning the DataRemove 2018 data since the year has just started.">


<meta itemprop="datePublished" content="2018-01-09T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2018-01-09T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="6462">



<meta itemprop="keywords" content="" />

<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Crimes in Somerville (Time Series)"/>
<meta name="twitter:description" content="I recently spotted a time series heat map. So I started on a quest to make my own. Luckily, I found some local data to start with: crimes in Somerville, MA. This data set includes selected crimes in Somerville from 2005-2017.
Handy Packageslibrary(tidyverse)library(lubridate)library(ggthemes)library(plotly)Getting the Datasomerville = read.csv(&quot;Police_-_Selected_Criminal_Incidents.csv&quot;)Cleaning the DataRemove 2018 data since the year has just started."/>
<meta name="twitter:site" content="@https://www.twitter.com/translatedmed"/>


    </head>
<body>
    <nav class="main-nav">
	
		<a href='/'> <span class="arrow">‚Üê</span>Home</a>
	

	
 		<a href='/about/about/'>About Me</a>
  	

	
</nav>

    <section id="wrapper">
        
        
<article class="post">
    <header>
        <h1>Crimes in Somerville (Time Series)</h1>
        <h2 class="subtitle"></h2>
        <h2 class="headline">
        January 9, 2018
        <br>
        
        </h2>
    </header>
    <section id="post-body">
        <script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/plotly-binding/plotly.js"></script>
<script src="/rmarkdown-libs/typedarray/typedarray.min.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="/rmarkdown-libs/crosstalk/js/crosstalk.min.js"></script>
<link href="/rmarkdown-libs/plotlyjs/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="/rmarkdown-libs/plotlyjs/plotly-latest.min.js"></script>


<p>I recently spotted a <a href="http://aarongonzales.net/posts/nerd/2017/05/18/bpd_cm_advanced/">time series heat map.</a> So I started on a quest to make my own. Luckily, I found some local data to start with: crimes in <a href="https://data.somervillema.gov/Public-Safety/Police-Selected-Criminal-Incidents/4jey-jqxb">Somerville, MA.</a> This data set includes selected crimes in Somerville from 2005-2017.</p>
<div id="handy-packages" class="section level3">
<h3>Handy Packages</h3>
<pre class="r"><code>library(tidyverse)
library(lubridate)
library(ggthemes)
library(plotly)</code></pre>
</div>
<div id="getting-the-data" class="section level3">
<h3>Getting the Data</h3>
<pre class="r"><code>somerville = read.csv(&quot;Police_-_Selected_Criminal_Incidents.csv&quot;)</code></pre>
</div>
<div id="cleaning-the-data" class="section level3">
<h3>Cleaning the Data</h3>
<ul>
<li>Remove 2018 data since the year has just started.<br />
</li>
<li>This part tackles converting the date column into a date data type. Then, I extracted specific parts of the date: the hour, the day of the week, the month, the year, and the day of the month.</li>
</ul>
<pre class="r"><code>somerville$dtreported = mdy_hms(somerville$dtreported)
somerville$wday = wday(somerville$dtreported  , label=TRUE)
somerville$month = month(somerville$dtreported, label=TRUE) #pulls out the month. 
somerville$hour = hour(somerville$dtreported) #pulls out the hour of the day.
somerville$dayomo = mday(somerville$dtreported) #pulls out the day of the month.
somerville$year = year(somerville$dtreported) #pulls out the year. 
somerville = somerville %&gt;%  filter(year !=2018) #removes 2018 data.</code></pre>
</div>
<div id="creating-the-graph" class="section level3">
<h3>Creating the Graph</h3>
<ul>
<li>I used <em>dplyr</em> to to get a count by hour and day of the week.<br />
</li>
<li>I felt fancy so I used <em>ggplotly</em> to make them interactive.</li>
</ul>
<pre class="r"><code>total = somerville %&gt;% count(hour, wday) %&gt;%  #Getting count by hour and day of the week.
  ggplot(aes(wday, hour, fill=n)) + geom_tile() + #create basic heatmap
  scale_fill_gradient2(guide=&quot;legend&quot;) + theme_tufte() + #legend structure &amp; tufte theme
  theme(text=element_text(size=14), axis.text = element_text(size=14)) + 
  labs(x=&quot;Day of the Week&quot;, y=&quot;Hour&quot;, title=&quot;Crimes in Somerville (2005-2017)&quot;) + #labels
  guides(fill=guide_legend(title=&quot;Crimes&quot;)) + 
  scale_y_continuous(breaks=seq(0, 23, 3)) #changing y axis

ggplotly(total)</code></pre>
<pre><code>## We recommend that you use the dev version of ggplot2 with `ggplotly()`
## Install it with: `devtools::install_github(&#39;hadley/ggplot2&#39;)`</code></pre>
<div id="f032b41e2" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="f032b41e2">{"x":{"data":[{"x":[1,2,3,4,5,6,7],"y":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"z":[[0.5,0.283783783783784,0.304054054054054,0.331081081081081,0.283783783783784,0.263513513513513,0.466216216216216],[0.418918918918919,0.162162162162162,0.155405405405405,0.243243243243243,0.108108108108108,0.222972972972973,0.331081081081081],[0.216216216216216,0.114864864864865,0.101351351351351,0.128378378378378,0.114864864864865,0.128378378378378,0.243243243243243],[0.25,0.0878378378378378,0.0945945945945946,0.0405405405405405,0.0337837837837838,0.0810810810810811,0.175675675675676],[0.101351351351351,0.0675675675675676,0.0675675675675676,0,0.0878378378378378,0.0337837837837838,0.101351351351351],[0.027027027027027,0.135135135135135,0.189189189189189,0.0878378378378378,0.175675675675676,0.148648648648649,0.0743243243243243],[0.108108108108108,0.310810810810811,0.277027027027027,0.290540540540541,0.277027027027027,0.216216216216216,0.162162162162162],[0.168918918918919,0.662162162162162,0.581081081081081,0.736486486486487,0.587837837837838,0.72972972972973,0.236486486486486],[0.364864864864865,0.898648648648649,0.972972972972973,0.891891891891892,0.72972972972973,0.952702702702703,0.439189189189189],[0.533783783783784,0.885135135135135,1,0.864864864864865,0.783783783783784,0.817567567567568,0.635135135135135],[0.77027027027027,0.945945945945946,0.702702702702703,0.891891891891892,0.702702702702703,0.783783783783784,0.932432432432432],[0.810810810810811,0.797297297297297,0.682432432432432,0.621621621621622,0.675675675675676,0.668918918918919,0.72972972972973],[0.736486486486487,0.716216216216216,0.628378378378378,0.601351351351351,0.567567567567568,0.682432432432432,0.621621621621622],[0.831081081081081,0.824324324324324,0.581081081081081,0.641891891891892,0.709459459459459,0.533783783783784,0.567567567567568],[0.797297297297297,0.898648648648649,0.837837837837838,0.75,0.635135135135135,0.682432432432432,0.601351351351351],[0.601351351351351,0.75,0.655405405405405,0.682432432432432,0.689189189189189,0.641891891891892,0.52027027027027],[0.682432432432432,0.966216216216216,0.763513513513513,0.695945945945946,0.702702702702703,0.662162162162162,0.432432432432432],[0.513513513513513,0.817567567567568,0.709459459459459,0.722972972972973,0.709459459459459,0.736486486486487,0.432432432432432],[0.547297297297297,0.77027027027027,0.777027027027027,0.925675675675676,0.777027027027027,0.628378378378378,0.371621621621622],[0.662162162162162,0.756756756756757,0.75,0.783783783783784,0.702702702702703,0.574324324324324,0.472972972972973],[0.641891891891892,0.804054054054054,0.810810810810811,0.635135135135135,0.72972972972973,0.601351351351351,0.533783783783784],[0.445945945945946,0.709459459459459,0.709459459459459,0.601351351351351,0.641891891891892,0.587837837837838,0.513513513513513],[0.506756756756757,0.621621621621622,0.554054054054054,0.533783783783784,0.52027027027027,0.554054054054054,0.608108108108108],[0.364864864864865,0.27027027027027,0.351351351351351,0.344594594594595,0.412162162162162,0.378378378378378,0.418918918918919]],"text":[["wday: Sun<br />hour:  0<br />n:  80","wday: Mon<br />hour:  0<br />n:  48","wday: Tue<br />hour:  0<br />n:  51","wday: Wed<br />hour:  0<br />n:  55","wday: Thu<br />hour:  0<br />n:  48","wday: Fri<br />hour:  0<br />n:  45","wday: Sat<br />hour:  0<br />n:  75"],["wday: Sun<br />hour:  1<br />n:  68","wday: Mon<br />hour:  1<br />n:  30","wday: Tue<br />hour:  1<br />n:  29","wday: Wed<br />hour:  1<br />n:  42","wday: Thu<br />hour:  1<br />n:  22","wday: Fri<br />hour:  1<br />n:  39","wday: Sat<br />hour:  1<br />n:  55"],["wday: Sun<br />hour:  2<br />n:  38","wday: Mon<br />hour:  2<br />n:  23","wday: Tue<br />hour:  2<br />n:  21","wday: Wed<br />hour:  2<br />n:  25","wday: Thu<br />hour:  2<br />n:  23","wday: Fri<br />hour:  2<br />n:  25","wday: Sat<br />hour:  2<br />n:  42"],["wday: Sun<br />hour:  3<br />n:  43","wday: Mon<br />hour:  3<br />n:  19","wday: Tue<br />hour:  3<br />n:  20","wday: Wed<br />hour:  3<br />n:  12","wday: Thu<br />hour:  3<br />n:  11","wday: Fri<br />hour:  3<br />n:  18","wday: Sat<br />hour:  3<br />n:  32"],["wday: Sun<br />hour:  4<br />n:  21","wday: Mon<br />hour:  4<br />n:  16","wday: Tue<br />hour:  4<br />n:  16","wday: Wed<br />hour:  4<br />n:   6","wday: Thu<br />hour:  4<br />n:  19","wday: Fri<br />hour:  4<br />n:  11","wday: Sat<br />hour:  4<br />n:  21"],["wday: Sun<br />hour:  5<br />n:  10","wday: Mon<br />hour:  5<br />n:  26","wday: Tue<br />hour:  5<br />n:  34","wday: Wed<br />hour:  5<br />n:  19","wday: Thu<br />hour:  5<br />n:  32","wday: Fri<br />hour:  5<br />n:  28","wday: Sat<br />hour:  5<br />n:  17"],["wday: Sun<br />hour:  6<br />n:  22","wday: Mon<br />hour:  6<br />n:  52","wday: Tue<br />hour:  6<br />n:  47","wday: Wed<br />hour:  6<br />n:  49","wday: Thu<br />hour:  6<br />n:  47","wday: Fri<br />hour:  6<br />n:  38","wday: Sat<br />hour:  6<br />n:  30"],["wday: Sun<br />hour:  7<br />n:  31","wday: Mon<br />hour:  7<br />n: 104","wday: Tue<br />hour:  7<br />n:  92","wday: Wed<br />hour:  7<br />n: 115","wday: Thu<br />hour:  7<br />n:  93","wday: Fri<br />hour:  7<br />n: 114","wday: Sat<br />hour:  7<br />n:  41"],["wday: Sun<br />hour:  8<br />n:  60","wday: Mon<br />hour:  8<br />n: 139","wday: Tue<br />hour:  8<br />n: 150","wday: Wed<br />hour:  8<br />n: 138","wday: Thu<br />hour:  8<br />n: 114","wday: Fri<br />hour:  8<br />n: 147","wday: Sat<br />hour:  8<br />n:  71"],["wday: Sun<br />hour:  9<br />n:  85","wday: Mon<br />hour:  9<br />n: 137","wday: Tue<br />hour:  9<br />n: 154","wday: Wed<br />hour:  9<br />n: 134","wday: Thu<br />hour:  9<br />n: 122","wday: Fri<br />hour:  9<br />n: 127","wday: Sat<br />hour:  9<br />n: 100"],["wday: Sun<br />hour: 10<br />n: 120","wday: Mon<br />hour: 10<br />n: 146","wday: Tue<br />hour: 10<br />n: 110","wday: Wed<br />hour: 10<br />n: 138","wday: Thu<br />hour: 10<br />n: 110","wday: Fri<br />hour: 10<br />n: 122","wday: Sat<br />hour: 10<br />n: 144"],["wday: Sun<br />hour: 11<br />n: 126","wday: Mon<br />hour: 11<br />n: 124","wday: Tue<br />hour: 11<br />n: 107","wday: Wed<br />hour: 11<br />n:  98","wday: Thu<br />hour: 11<br />n: 106","wday: Fri<br />hour: 11<br />n: 105","wday: Sat<br />hour: 11<br />n: 114"],["wday: Sun<br />hour: 12<br />n: 115","wday: Mon<br />hour: 12<br />n: 112","wday: Tue<br />hour: 12<br />n:  99","wday: Wed<br />hour: 12<br />n:  95","wday: Thu<br />hour: 12<br />n:  90","wday: Fri<br />hour: 12<br />n: 107","wday: Sat<br />hour: 12<br />n:  98"],["wday: Sun<br />hour: 13<br />n: 129","wday: Mon<br />hour: 13<br />n: 128","wday: Tue<br />hour: 13<br />n:  92","wday: Wed<br />hour: 13<br />n: 101","wday: Thu<br />hour: 13<br />n: 111","wday: Fri<br />hour: 13<br />n:  85","wday: Sat<br />hour: 13<br />n:  90"],["wday: Sun<br />hour: 14<br />n: 124","wday: Mon<br />hour: 14<br />n: 139","wday: Tue<br />hour: 14<br />n: 130","wday: Wed<br />hour: 14<br />n: 117","wday: Thu<br />hour: 14<br />n: 100","wday: Fri<br />hour: 14<br />n: 107","wday: Sat<br />hour: 14<br />n:  95"],["wday: Sun<br />hour: 15<br />n:  95","wday: Mon<br />hour: 15<br />n: 117","wday: Tue<br />hour: 15<br />n: 103","wday: Wed<br />hour: 15<br />n: 107","wday: Thu<br />hour: 15<br />n: 108","wday: Fri<br />hour: 15<br />n: 101","wday: Sat<br />hour: 15<br />n:  83"],["wday: Sun<br />hour: 16<br />n: 107","wday: Mon<br />hour: 16<br />n: 149","wday: Tue<br />hour: 16<br />n: 119","wday: Wed<br />hour: 16<br />n: 109","wday: Thu<br />hour: 16<br />n: 110","wday: Fri<br />hour: 16<br />n: 104","wday: Sat<br />hour: 16<br />n:  70"],["wday: Sun<br />hour: 17<br />n:  82","wday: Mon<br />hour: 17<br />n: 127","wday: Tue<br />hour: 17<br />n: 111","wday: Wed<br />hour: 17<br />n: 113","wday: Thu<br />hour: 17<br />n: 111","wday: Fri<br />hour: 17<br />n: 115","wday: Sat<br />hour: 17<br />n:  70"],["wday: Sun<br />hour: 18<br />n:  87","wday: Mon<br />hour: 18<br />n: 120","wday: Tue<br />hour: 18<br />n: 121","wday: Wed<br />hour: 18<br />n: 143","wday: Thu<br />hour: 18<br />n: 121","wday: Fri<br />hour: 18<br />n:  99","wday: Sat<br />hour: 18<br />n:  61"],["wday: Sun<br />hour: 19<br />n: 104","wday: Mon<br />hour: 19<br />n: 118","wday: Tue<br />hour: 19<br />n: 117","wday: Wed<br />hour: 19<br />n: 122","wday: Thu<br />hour: 19<br />n: 110","wday: Fri<br />hour: 19<br />n:  91","wday: Sat<br />hour: 19<br />n:  76"],["wday: Sun<br />hour: 20<br />n: 101","wday: Mon<br />hour: 20<br />n: 125","wday: Tue<br />hour: 20<br />n: 126","wday: Wed<br />hour: 20<br />n: 100","wday: Thu<br />hour: 20<br />n: 114","wday: Fri<br />hour: 20<br />n:  95","wday: Sat<br />hour: 20<br />n:  85"],["wday: Sun<br />hour: 21<br />n:  72","wday: Mon<br />hour: 21<br />n: 111","wday: Tue<br />hour: 21<br />n: 111","wday: Wed<br />hour: 21<br />n:  95","wday: Thu<br />hour: 21<br />n: 101","wday: Fri<br />hour: 21<br />n:  93","wday: Sat<br />hour: 21<br />n:  82"],["wday: Sun<br />hour: 22<br />n:  81","wday: Mon<br />hour: 22<br />n:  98","wday: Tue<br />hour: 22<br />n:  88","wday: Wed<br />hour: 22<br />n:  85","wday: Thu<br />hour: 22<br />n:  83","wday: Fri<br />hour: 22<br />n:  88","wday: Sat<br />hour: 22<br />n:  96"],["wday: Sun<br />hour: 23<br />n:  60","wday: Mon<br />hour: 23<br />n:  46","wday: Tue<br />hour: 23<br />n:  58","wday: Wed<br />hour: 23<br />n:  57","wday: Thu<br />hour: 23<br />n:  67","wday: Fri<br />hour: 23<br />n:  62","wday: Sat<br />hour: 23<br />n:  68"]],"colorscale":[[0,"#F8F7FB"],[0.027027027027027,"#F3F1F8"],[0.0337837837837838,"#F1F0F8"],[0.0405405405405405,"#F0EEF7"],[0.0675675675675676,"#EBE9F4"],[0.0743243243243243,"#EAE7F4"],[0.0810810810810811,"#E9E6F3"],[0.0878378378378378,"#E8E4F2"],[0.0945945945945946,"#E6E3F2"],[0.101351351351351,"#E5E2F1"],[0.108108108108108,"#E4E0F0"],[0.114864864864865,"#E3DFF0"],[0.128378378378378,"#E0DCEE"],[0.135135135135135,"#DFDBEE"],[0.148648648648649,"#DDD8EC"],[0.155405405405405,"#DBD7EC"],[0.162162162162162,"#DAD5EB"],[0.168918918918919,"#D9D4EA"],[0.175675675675676,"#D8D3EA"],[0.189189189189189,"#D5D0E8"],[0.216216216216216,"#D0CAE6"],[0.222972972972973,"#CFC9E5"],[0.236486486486486,"#CDC6E4"],[0.243243243243243,"#CCC5E3"],[0.25,"#CAC4E2"],[0.263513513513513,"#C8C1E1"],[0.27027027027027,"#C7C0E0"],[0.277027027027027,"#C5BEE0"],[0.283783783783784,"#C4BDDF"],[0.290540540540541,"#C3BCDE"],[0.304054054054054,"#C1B9DD"],[0.310810810810811,"#BFB8DC"],[0.331081081081081,"#BCB4DA"],[0.344594594594595,"#B9B1D9"],[0.351351351351351,"#B8B0D8"],[0.364864864864865,"#B6ADD7"],[0.371621621621622,"#B4ACD6"],[0.378378378378378,"#B3AAD6"],[0.412162162162162,"#ADA4D2"],[0.418918918918919,"#ACA2D2"],[0.432432432432432,"#A9A0D0"],[0.439189189189189,"#A89FD0"],[0.445945945945946,"#A79DCF"],[0.466216216216216,"#A399CD"],[0.472972972972973,"#A298CC"],[0.5,"#9D93CA"],[0.506756756756757,"#9C92C9"],[0.513513513513513,"#9B90C8"],[0.52027027027027,"#998FC8"],[0.533783783783784,"#978DC6"],[0.547297297297297,"#948AC5"],[0.554054054054054,"#9389C4"],[0.567567567567568,"#9186C3"],[0.574324324324324,"#8F85C2"],[0.581081081081081,"#8E84C2"],[0.587837837837838,"#8D82C1"],[0.601351351351351,"#8A80C0"],[0.608108108108108,"#897FBF"],[0.621621621621622,"#877CBE"],[0.628378378378378,"#857BBD"],[0.635135135135135,"#847ABC"],[0.641891891891892,"#8378BC"],[0.655405405405405,"#8076BA"],[0.662162162162162,"#7F75BA"],[0.668918918918919,"#7E74B9"],[0.675675675675676,"#7D72B8"],[0.682432432432432,"#7B71B8"],[0.689189189189189,"#7A70B7"],[0.695945945945946,"#796FB6"],[0.702702702702703,"#786DB6"],[0.709459459459459,"#766CB5"],[0.716216216216216,"#756BB4"],[0.722972972972973,"#746AB4"],[0.72972972972973,"#7269B3"],[0.736486486486487,"#7167B2"],[0.75,"#6F65B1"],[0.756756756756757,"#6D64B0"],[0.763513513513513,"#6C62B0"],[0.77027027027027,"#6B61AF"],[0.777027027027027,"#6960AE"],[0.783783783783784,"#685FAE"],[0.797297297297297,"#655DAC"],[0.804054054054054,"#645BAC"],[0.810810810810811,"#635AAB"],[0.817567567567568,"#6159AA"],[0.824324324324324,"#6058AA"],[0.831081081081081,"#5F57A9"],[0.837837837837838,"#5D55A8"],[0.864864864864865,"#5851A5"],[0.885135135135135,"#544DA3"],[0.891891891891892,"#524CA3"],[0.898648648648649,"#514BA2"],[0.925675675675676,"#4B469F"],[0.932432432432432,"#4A459F"],[0.945945945945946,"#47439D"],[0.952702702702703,"#45429D"],[0.966216216216216,"#42409B"],[0.972972972972973,"#403E9B"],[1,"#3A3A98"]],"type":"heatmap","showscale":false,"autocolorscale":false,"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":48.5446243254463,"r":7.30593607305936,"b":51.0751349107513,"l":48.1527604815276},"font":{"color":"rgba(0,0,0,1)","family":"serif","size":18.5969281859693},"title":"Crimes in Somerville (2005-2017)","titlefont":{"color":"rgba(0,0,0,1)","family":"serif","size":22.3163138231631},"xaxis":{"domain":[0,1],"type":"linear","autorange":false,"tickmode":"array","range":[0.4,7.6],"ticktext":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"tickvals":[1,2,3,4,5,6,7],"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"serif","size":18.5969281859693},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":"Day of the Week","titlefont":{"color":"rgba(0,0,0,1)","family":"serif","size":18.5969281859693},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"type":"linear","autorange":false,"tickmode":"array","range":[-1.7,24.7],"ticktext":["0","3","6","9","12","15","18","21"],"tickvals":[0,3,6,9,12,15,18,21],"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"serif","size":18.5969281859693},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"Hour","titlefont":{"color":"rgba(0,0,0,1)","family":"serif","size":18.5969281859693},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"serif","size":14.8775425487754}},"hovermode":"closest"},"source":"A","attrs":{"f031ea2e2f":{"x":{},"y":{},"fill":{},"type":"ggplotly"}},"cur_data":"f031ea2e2f","visdat":{"f031ea2e2f":["function (y) ","x"]},"config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<p>It looks like most crimes happen around 9 in the morning on Tuesdays!</p>
<p>But what if we look at the breakdown by type of crime. The data set provides an offense variable which has 4 types of crimes:</p>
<ul>
<li>Burglary/breaking and entering</li>
<li>Motor vehicle theft</li>
<li>Robbery<br />
</li>
<li>Theft from motor vehicle</li>
</ul>
</div>
<div id="burglarybreaking-and-entering" class="section level3">
<h3>BURGLARY/BREAKING AND ENTERING</h3>
<pre class="r"><code>burg = somerville %&gt;% filter(offense==&quot;BURGLARY/BREAKING AND ENTERING&quot;) %&gt;% 
  count(hour, wday) %&gt;%  #Getting count by hour and day of the week.
  ggplot(aes(wday, hour, fill=n)) + geom_tile() + #create basic heatmap
  scale_fill_gradient2(guide=&quot;legend&quot;) + theme_tufte() + #legend structure &amp; tufte theme
  theme(text=element_text(size=14), axis.text = element_text(size=14)) + 
  labs(x=&quot;Day of the Week&quot;, y=&quot;Hour&quot;, title=&quot;Burglary/Breaking and Entering&quot;) + #labels
  guides(fill=guide_legend(title=&quot;Crimes&quot;)) + 
  scale_y_continuous(breaks=seq(0, 23, 3)) #changing y axis

ggplotly(burg)</code></pre>
<div id="f06a231707" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="f06a231707">{"x":{"data":[{"x":[1,2,3,4,5,6,7],"y":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"z":[[0.35632183908046,0.149425287356322,0.160919540229885,0.252873563218391,0.275862068965517,0.218390804597701,0.310344827586207],[0.264367816091954,0.114942528735632,0.114942528735632,0.126436781609195,0.0689655172413793,0.103448275862069,0.195402298850575],[0.137931034482759,0.0574712643678161,0.0574712643678161,0.0574712643678161,0.0574712643678161,0.0919540229885057,0.160919540229885],[0.183908045977011,0.0574712643678161,0.0459770114942529,0.0574712643678161,0,0.0804597701149425,0.103448275862069],[0.0689655172413793,0.103448275862069,0.114942528735632,0.0229885057471264,0.0804597701149425,0.0114942528735632,0.103448275862069],[0.0114942528735632,0.137931034482759,0.149425287356322,0.0804597701149425,0.149425287356322,0.103448275862069,0.0919540229885057],[0.0804597701149425,0.160919540229885,0.0919540229885057,0.0689655172413793,0.126436781609195,0.114942528735632,0.103448275862069],[0.103448275862069,0.229885057471264,0.126436781609195,0.206896551724138,0.195402298850575,0.264367816091954,0.0919540229885057],[0.195402298850575,0.264367816091954,0.252873563218391,0.229885057471264,0.218390804597701,0.229885057471264,0.183908045977011],[0.195402298850575,0.379310344827586,0.344827586206897,0.229885057471264,0.252873563218391,0.275862068965517,0.310344827586207],[0.379310344827586,0.344827586206897,0.241379310344828,0.333333333333333,0.229885057471264,0.298850574712644,0.32183908045977],[0.264367816091954,0.344827586206897,0.275862068965517,0.379310344827586,0.195402298850575,0.298850574712644,0.298850574712644],[0.241379310344828,0.367816091954023,0.333333333333333,0.298850574712644,0.35632183908046,0.28735632183908,0.264367816091954],[0.35632183908046,0.310344827586207,0.28735632183908,0.28735632183908,0.390804597701149,0.241379310344828,0.137931034482759],[0.379310344827586,0.505747126436782,0.471264367816092,0.310344827586207,0.367816091954023,0.379310344827586,0.298850574712644],[0.264367816091954,0.471264367816092,0.528735632183908,0.413793103448276,0.459770114942529,0.448275862068966,0.310344827586207],[0.298850574712644,0.770114942528736,0.551724137931034,0.632183908045977,0.448275862068966,0.425287356321839,0.195402298850575],[0.264367816091954,0.71264367816092,0.632183908045977,0.620689655172414,0.655172413793103,0.597701149425287,0.28735632183908],[0.333333333333333,0.620689655172414,0.71264367816092,1,0.666666666666667,0.620689655172414,0.160919540229885],[0.367816091954023,0.655172413793103,0.689655172413793,0.494252873563218,0.586206896551724,0.517241379310345,0.241379310344828],[0.413793103448276,0.517241379310345,0.724137931034483,0.620689655172414,0.64367816091954,0.459770114942529,0.367816091954023],[0.28735632183908,0.494252873563218,0.436781609195402,0.471264367816092,0.609195402298851,0.471264367816092,0.310344827586207],[0.28735632183908,0.436781609195402,0.425287356321839,0.471264367816092,0.35632183908046,0.471264367816092,0.413793103448276],[0.241379310344828,0.206896551724138,0.264367816091954,0.28735632183908,0.344827586206897,0.333333333333333,0.35632183908046]],"text":[["wday: Sun<br />hour:  0<br />n: 34","wday: Mon<br />hour:  0<br />n: 16","wday: Tue<br />hour:  0<br />n: 17","wday: Wed<br />hour:  0<br />n: 25","wday: Thu<br />hour:  0<br />n: 27","wday: Fri<br />hour:  0<br />n: 22","wday: Sat<br />hour:  0<br />n: 30"],["wday: Sun<br />hour:  1<br />n: 26","wday: Mon<br />hour:  1<br />n: 13","wday: Tue<br />hour:  1<br />n: 13","wday: Wed<br />hour:  1<br />n: 14","wday: Thu<br />hour:  1<br />n:  9","wday: Fri<br />hour:  1<br />n: 12","wday: Sat<br />hour:  1<br />n: 20"],["wday: Sun<br />hour:  2<br />n: 15","wday: Mon<br />hour:  2<br />n:  8","wday: Tue<br />hour:  2<br />n:  8","wday: Wed<br />hour:  2<br />n:  8","wday: Thu<br />hour:  2<br />n:  8","wday: Fri<br />hour:  2<br />n: 11","wday: Sat<br />hour:  2<br />n: 17"],["wday: Sun<br />hour:  3<br />n: 19","wday: Mon<br />hour:  3<br />n:  8","wday: Tue<br />hour:  3<br />n:  7","wday: Wed<br />hour:  3<br />n:  8","wday: Thu<br />hour:  3<br />n:  3","wday: Fri<br />hour:  3<br />n: 10","wday: Sat<br />hour:  3<br />n: 12"],["wday: Sun<br />hour:  4<br />n:  9","wday: Mon<br />hour:  4<br />n: 12","wday: Tue<br />hour:  4<br />n: 13","wday: Wed<br />hour:  4<br />n:  5","wday: Thu<br />hour:  4<br />n: 10","wday: Fri<br />hour:  4<br />n:  4","wday: Sat<br />hour:  4<br />n: 12"],["wday: Sun<br />hour:  5<br />n:  4","wday: Mon<br />hour:  5<br />n: 15","wday: Tue<br />hour:  5<br />n: 16","wday: Wed<br />hour:  5<br />n: 10","wday: Thu<br />hour:  5<br />n: 16","wday: Fri<br />hour:  5<br />n: 12","wday: Sat<br />hour:  5<br />n: 11"],["wday: Sun<br />hour:  6<br />n: 10","wday: Mon<br />hour:  6<br />n: 17","wday: Tue<br />hour:  6<br />n: 11","wday: Wed<br />hour:  6<br />n:  9","wday: Thu<br />hour:  6<br />n: 14","wday: Fri<br />hour:  6<br />n: 13","wday: Sat<br />hour:  6<br />n: 12"],["wday: Sun<br />hour:  7<br />n: 12","wday: Mon<br />hour:  7<br />n: 23","wday: Tue<br />hour:  7<br />n: 14","wday: Wed<br />hour:  7<br />n: 21","wday: Thu<br />hour:  7<br />n: 20","wday: Fri<br />hour:  7<br />n: 26","wday: Sat<br />hour:  7<br />n: 11"],["wday: Sun<br />hour:  8<br />n: 20","wday: Mon<br />hour:  8<br />n: 26","wday: Tue<br />hour:  8<br />n: 25","wday: Wed<br />hour:  8<br />n: 23","wday: Thu<br />hour:  8<br />n: 22","wday: Fri<br />hour:  8<br />n: 23","wday: Sat<br />hour:  8<br />n: 19"],["wday: Sun<br />hour:  9<br />n: 20","wday: Mon<br />hour:  9<br />n: 36","wday: Tue<br />hour:  9<br />n: 33","wday: Wed<br />hour:  9<br />n: 23","wday: Thu<br />hour:  9<br />n: 25","wday: Fri<br />hour:  9<br />n: 27","wday: Sat<br />hour:  9<br />n: 30"],["wday: Sun<br />hour: 10<br />n: 36","wday: Mon<br />hour: 10<br />n: 33","wday: Tue<br />hour: 10<br />n: 24","wday: Wed<br />hour: 10<br />n: 32","wday: Thu<br />hour: 10<br />n: 23","wday: Fri<br />hour: 10<br />n: 29","wday: Sat<br />hour: 10<br />n: 31"],["wday: Sun<br />hour: 11<br />n: 26","wday: Mon<br />hour: 11<br />n: 33","wday: Tue<br />hour: 11<br />n: 27","wday: Wed<br />hour: 11<br />n: 36","wday: Thu<br />hour: 11<br />n: 20","wday: Fri<br />hour: 11<br />n: 29","wday: Sat<br />hour: 11<br />n: 29"],["wday: Sun<br />hour: 12<br />n: 24","wday: Mon<br />hour: 12<br />n: 35","wday: Tue<br />hour: 12<br />n: 32","wday: Wed<br />hour: 12<br />n: 29","wday: Thu<br />hour: 12<br />n: 34","wday: Fri<br />hour: 12<br />n: 28","wday: Sat<br />hour: 12<br />n: 26"],["wday: Sun<br />hour: 13<br />n: 34","wday: Mon<br />hour: 13<br />n: 30","wday: Tue<br />hour: 13<br />n: 28","wday: Wed<br />hour: 13<br />n: 28","wday: Thu<br />hour: 13<br />n: 37","wday: Fri<br />hour: 13<br />n: 24","wday: Sat<br />hour: 13<br />n: 15"],["wday: Sun<br />hour: 14<br />n: 36","wday: Mon<br />hour: 14<br />n: 47","wday: Tue<br />hour: 14<br />n: 44","wday: Wed<br />hour: 14<br />n: 30","wday: Thu<br />hour: 14<br />n: 35","wday: Fri<br />hour: 14<br />n: 36","wday: Sat<br />hour: 14<br />n: 29"],["wday: Sun<br />hour: 15<br />n: 26","wday: Mon<br />hour: 15<br />n: 44","wday: Tue<br />hour: 15<br />n: 49","wday: Wed<br />hour: 15<br />n: 39","wday: Thu<br />hour: 15<br />n: 43","wday: Fri<br />hour: 15<br />n: 42","wday: Sat<br />hour: 15<br />n: 30"],["wday: Sun<br />hour: 16<br />n: 29","wday: Mon<br />hour: 16<br />n: 70","wday: Tue<br />hour: 16<br />n: 51","wday: Wed<br />hour: 16<br />n: 58","wday: Thu<br />hour: 16<br />n: 42","wday: Fri<br />hour: 16<br />n: 40","wday: Sat<br />hour: 16<br />n: 20"],["wday: Sun<br />hour: 17<br />n: 26","wday: Mon<br />hour: 17<br />n: 65","wday: Tue<br />hour: 17<br />n: 58","wday: Wed<br />hour: 17<br />n: 57","wday: Thu<br />hour: 17<br />n: 60","wday: Fri<br />hour: 17<br />n: 55","wday: Sat<br />hour: 17<br />n: 28"],["wday: Sun<br />hour: 18<br />n: 32","wday: Mon<br />hour: 18<br />n: 57","wday: Tue<br />hour: 18<br />n: 65","wday: Wed<br />hour: 18<br />n: 90","wday: Thu<br />hour: 18<br />n: 61","wday: Fri<br />hour: 18<br />n: 57","wday: Sat<br />hour: 18<br />n: 17"],["wday: Sun<br />hour: 19<br />n: 35","wday: Mon<br />hour: 19<br />n: 60","wday: Tue<br />hour: 19<br />n: 63","wday: Wed<br />hour: 19<br />n: 46","wday: Thu<br />hour: 19<br />n: 54","wday: Fri<br />hour: 19<br />n: 48","wday: Sat<br />hour: 19<br />n: 24"],["wday: Sun<br />hour: 20<br />n: 39","wday: Mon<br />hour: 20<br />n: 48","wday: Tue<br />hour: 20<br />n: 66","wday: Wed<br />hour: 20<br />n: 57","wday: Thu<br />hour: 20<br />n: 59","wday: Fri<br />hour: 20<br />n: 43","wday: Sat<br />hour: 20<br />n: 35"],["wday: Sun<br />hour: 21<br />n: 28","wday: Mon<br />hour: 21<br />n: 46","wday: Tue<br />hour: 21<br />n: 41","wday: Wed<br />hour: 21<br />n: 44","wday: Thu<br />hour: 21<br />n: 56","wday: Fri<br />hour: 21<br />n: 44","wday: Sat<br />hour: 21<br />n: 30"],["wday: Sun<br />hour: 22<br />n: 28","wday: Mon<br />hour: 22<br />n: 41","wday: Tue<br />hour: 22<br />n: 40","wday: Wed<br />hour: 22<br />n: 44","wday: Thu<br />hour: 22<br />n: 34","wday: Fri<br />hour: 22<br />n: 44","wday: Sat<br />hour: 22<br />n: 39"],["wday: Sun<br />hour: 23<br />n: 24","wday: Mon<br />hour: 23<br />n: 21","wday: Tue<br />hour: 23<br />n: 26","wday: Wed<br />hour: 23<br />n: 28","wday: Thu<br />hour: 23<br />n: 33","wday: Fri<br />hour: 23<br />n: 32","wday: Sat<br />hour: 23<br />n: 34"]],"colorscale":[[0,"#F9F8FC"],[0.0114942528735632,"#F7F5FA"],[0.0229885057471264,"#F4F3F9"],[0.0459770114942529,"#F0EEF7"],[0.0574712643678161,"#EEECF6"],[0.0689655172413793,"#ECE9F5"],[0.0804597701149425,"#EAE7F4"],[0.0919540229885057,"#E8E5F2"],[0.103448275862069,"#E6E2F1"],[0.114942528735632,"#E4E0F0"],[0.126436781609195,"#E2DEEF"],[0.137931034482759,"#DFDBEE"],[0.149425287356322,"#DDD9ED"],[0.160919540229885,"#DBD7EC"],[0.183908045977011,"#D7D2E9"],[0.195402298850575,"#D5D0E8"],[0.206896551724138,"#D3CDE7"],[0.218390804597701,"#D1CBE6"],[0.229885057471264,"#CFC9E5"],[0.241379310344828,"#CDC6E4"],[0.252873563218391,"#CBC4E3"],[0.264367816091954,"#C8C2E1"],[0.275862068965517,"#C6BFE0"],[0.28735632183908,"#C4BDDF"],[0.298850574712644,"#C2BBDE"],[0.310344827586207,"#C0B8DD"],[0.32183908045977,"#BEB6DC"],[0.333333333333333,"#BCB4DB"],[0.344827586206897,"#BAB2D9"],[0.35632183908046,"#B8AFD8"],[0.367816091954023,"#B6ADD7"],[0.379310344827586,"#B4ABD6"],[0.390804597701149,"#B1A9D5"],[0.413793103448276,"#ADA4D3"],[0.425287356321839,"#ABA2D1"],[0.436781609195402,"#A9A0D0"],[0.448275862068966,"#A79DCF"],[0.459770114942529,"#A59BCE"],[0.471264367816092,"#A399CD"],[0.494252873563218,"#9F95CB"],[0.505747126436782,"#9D92C9"],[0.517241379310345,"#9A90C8"],[0.528735632183908,"#988EC7"],[0.551724137931034,"#948AC5"],[0.586206896551724,"#8E83C1"],[0.597701149425287,"#8C81C0"],[0.609195402298851,"#897FBF"],[0.620689655172414,"#877DBE"],[0.632183908045977,"#857BBD"],[0.64367816091954,"#8379BC"],[0.655172413793103,"#8176BB"],[0.666666666666667,"#7F74B9"],[0.689655172413793,"#7A70B7"],[0.71264367816092,"#766CB5"],[0.724137931034483,"#746AB4"],[0.770114942528736,"#6B62AF"],[1,"#3A3A98"]],"type":"heatmap","showscale":false,"autocolorscale":false,"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":48.5446243254463,"r":7.30593607305936,"b":51.0751349107513,"l":48.1527604815276},"font":{"color":"rgba(0,0,0,1)","family":"serif","size":18.5969281859693},"title":"Burglary/Breaking and Entering","titlefont":{"color":"rgba(0,0,0,1)","family":"serif","size":22.3163138231631},"xaxis":{"domain":[0,1],"type":"linear","autorange":false,"tickmode":"array","range":[0.4,7.6],"ticktext":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"tickvals":[1,2,3,4,5,6,7],"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"serif","size":18.5969281859693},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":"Day of the Week","titlefont":{"color":"rgba(0,0,0,1)","family":"serif","size":18.5969281859693},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"type":"linear","autorange":false,"tickmode":"array","range":[-1.7,24.7],"ticktext":["0","3","6","9","12","15","18","21"],"tickvals":[0,3,6,9,12,15,18,21],"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"serif","size":18.5969281859693},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"Hour","titlefont":{"color":"rgba(0,0,0,1)","family":"serif","size":18.5969281859693},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"serif","size":14.8775425487754}},"hovermode":"closest"},"source":"A","attrs":{"f05bfa2f2b":{"x":{},"y":{},"fill":{},"type":"ggplotly"}},"cur_data":"f05bfa2f2b","visdat":{"f05bfa2f2b":["function (y) ","x"]},"config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<p>It seems that most burglaries happen on Wednesday evenings.</p>
</div>
<div id="motor-vehicle-theft" class="section level3">
<h3>MOTOR VEHICLE THEFT</h3>
<pre class="r"><code>carTheft = somerville %&gt;% filter(offense==&quot;MOTOR VEHICLE THEFT&quot;) %&gt;% 
  count(hour, wday) %&gt;%  #Getting count by hour and day of the week.
  ggplot(aes(wday, hour, fill=n)) + geom_tile() + #create basic heatmap
  scale_fill_gradient2(guide=&quot;legend&quot;) + theme_tufte() + #legend structure &amp; tufte theme
  theme(text=element_text(size=14), axis.text = element_text(size=14)) + 
  labs(x=&quot;Day of the Week&quot;, y=&quot;Hour&quot;, title=&quot;Motor Vehicle Theft&quot;) + #labels
  guides(fill=guide_legend(title=&quot;Crimes&quot;)) + 
  scale_y_continuous(breaks=seq(0, 23, 3)) #changing y axis

ggplotly(carTheft)</code></pre>
<div id="f0776e4993" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="f0776e4993">{"x":{"data":[{"x":[1,2,3,4,5,6,7],"y":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"z":[[0.216216216216216,0.135135135135135,0.216216216216216,0.108108108108108,0.162162162162162,0.0540540540540541,0.324324324324324],[0.297297297297297,null,0.0540540540540541,0.189189189189189,0.0810810810810811,0.189189189189189,0.189189189189189],[0.189189189189189,0.135135135135135,0.027027027027027,0.135135135135135,0.0810810810810811,0.135135135135135,0.27027027027027],[0.216216216216216,0.0540540540540541,0.0810810810810811,0,0.0540540540540541,0,0.135135135135135],[0.108108108108108,0.0540540540540541,null,0,0.027027027027027,0,0.027027027027027],[0,0.027027027027027,0.0540540540540541,0.0810810810810811,0.0810810810810811,0.135135135135135,0],[0.027027027027027,0.0540540540540541,0.108108108108108,0.162162162162162,0.108108108108108,0.027027027027027,0],[0.0810810810810811,0.297297297297297,0.27027027027027,0.27027027027027,0.189189189189189,0.27027027027027,0.135135135135135],[0.135135135135135,0.486486486486487,0.621621621621622,0.594594594594595,0.243243243243243,0.432432432432432,0.162162162162162],[0.27027027027027,0.567567567567568,0.594594594594595,0.756756756756757,0.540540540540541,0.513513513513513,0.405405405405405],[0.486486486486487,0.783783783783784,0.648648648648649,0.675675675675676,0.972972972972973,0.756756756756757,0.594594594594595],[0.621621621621622,0.756756756756757,0.702702702702703,0.405405405405405,0.594594594594595,0.459459459459459,0.486486486486487],[0.540540540540541,0.621621621621622,0.513513513513513,0.486486486486487,0.351351351351351,0.486486486486487,0.513513513513513],[0.72972972972973,0.702702702702703,0.459459459459459,0.621621621621622,0.756756756756757,0.513513513513513,0.513513513513513],[0.567567567567568,1,0.621621621621622,0.864864864864865,0.486486486486487,0.432432432432432,0.567567567567568],[0.405405405405405,0.567567567567568,0.324324324324324,0.486486486486487,0.594594594594595,0.378378378378378,0.351351351351351],[0.540540540540541,0.675675675675676,0.567567567567568,0.432432432432432,0.513513513513513,0.459459459459459,0.486486486486487],[0.243243243243243,0.459459459459459,0.459459459459459,0.378378378378378,0.378378378378378,0.675675675675676,0.297297297297297],[0.432432432432432,0.378378378378378,0.432432432432432,0.351351351351351,0.486486486486487,0.324324324324324,0.324324324324324],[0.459459459459459,0.432432432432432,0.162162162162162,0.702702702702703,0.405405405405405,0.378378378378378,0.432432432432432],[0.486486486486487,0.432432432432432,0.351351351351351,0.405405405405405,0.432432432432432,0.513513513513513,0.405405405405405],[0.162162162162162,0.243243243243243,0.459459459459459,0.351351351351351,0.324324324324324,0.405405405405405,0.378378378378378],[0.378378378378378,0.567567567567568,0.216216216216216,0.243243243243243,0.378378378378378,0.324324324324324,0.243243243243243],[0.27027027027027,0.135135135135135,0.135135135135135,0.108108108108108,0.216216216216216,0.189189189189189,0.135135135135135]],"text":[["wday: Sun<br />hour:  0<br />n:  9","wday: Mon<br />hour:  0<br />n:  6","wday: Tue<br />hour:  0<br />n:  9","wday: Wed<br />hour:  0<br />n:  5","wday: Thu<br />hour:  0<br />n:  7","wday: Fri<br />hour:  0<br />n:  3","wday: Sat<br />hour:  0<br />n: 13"],["wday: Sun<br />hour:  1<br />n: 12",null,"wday: Tue<br />hour:  1<br />n:  3","wday: Wed<br />hour:  1<br />n:  8","wday: Thu<br />hour:  1<br />n:  4","wday: Fri<br />hour:  1<br />n:  8","wday: Sat<br />hour:  1<br />n:  8"],["wday: Sun<br />hour:  2<br />n:  8","wday: Mon<br />hour:  2<br />n:  6","wday: Tue<br />hour:  2<br />n:  2","wday: Wed<br />hour:  2<br />n:  6","wday: Thu<br />hour:  2<br />n:  4","wday: Fri<br />hour:  2<br />n:  6","wday: Sat<br />hour:  2<br />n: 11"],["wday: Sun<br />hour:  3<br />n:  9","wday: Mon<br />hour:  3<br />n:  3","wday: Tue<br />hour:  3<br />n:  4","wday: Wed<br />hour:  3<br />n:  1","wday: Thu<br />hour:  3<br />n:  3","wday: Fri<br />hour:  3<br />n:  1","wday: Sat<br />hour:  3<br />n:  6"],["wday: Sun<br />hour:  4<br />n:  5","wday: Mon<br />hour:  4<br />n:  3",null,"wday: Wed<br />hour:  4<br />n:  1","wday: Thu<br />hour:  4<br />n:  2","wday: Fri<br />hour:  4<br />n:  1","wday: Sat<br />hour:  4<br />n:  2"],["wday: Sun<br />hour:  5<br />n:  1","wday: Mon<br />hour:  5<br />n:  2","wday: Tue<br />hour:  5<br />n:  3","wday: Wed<br />hour:  5<br />n:  4","wday: Thu<br />hour:  5<br />n:  4","wday: Fri<br />hour:  5<br />n:  6","wday: Sat<br />hour:  5<br />n:  1"],["wday: Sun<br />hour:  6<br />n:  2","wday: Mon<br />hour:  6<br />n:  3","wday: Tue<br />hour:  6<br />n:  5","wday: Wed<br />hour:  6<br />n:  7","wday: Thu<br />hour:  6<br />n:  5","wday: Fri<br />hour:  6<br />n:  2","wday: Sat<br />hour:  6<br />n:  1"],["wday: Sun<br />hour:  7<br />n:  4","wday: Mon<br />hour:  7<br />n: 12","wday: Tue<br />hour:  7<br />n: 11","wday: Wed<br />hour:  7<br />n: 11","wday: Thu<br />hour:  7<br />n:  8","wday: Fri<br />hour:  7<br />n: 11","wday: Sat<br />hour:  7<br />n:  6"],["wday: Sun<br />hour:  8<br />n:  6","wday: Mon<br />hour:  8<br />n: 19","wday: Tue<br />hour:  8<br />n: 24","wday: Wed<br />hour:  8<br />n: 23","wday: Thu<br />hour:  8<br />n: 10","wday: Fri<br />hour:  8<br />n: 17","wday: Sat<br />hour:  8<br />n:  7"],["wday: Sun<br />hour:  9<br />n: 11","wday: Mon<br />hour:  9<br />n: 22","wday: Tue<br />hour:  9<br />n: 23","wday: Wed<br />hour:  9<br />n: 29","wday: Thu<br />hour:  9<br />n: 21","wday: Fri<br />hour:  9<br />n: 20","wday: Sat<br />hour:  9<br />n: 16"],["wday: Sun<br />hour: 10<br />n: 19","wday: Mon<br />hour: 10<br />n: 30","wday: Tue<br />hour: 10<br />n: 25","wday: Wed<br />hour: 10<br />n: 26","wday: Thu<br />hour: 10<br />n: 37","wday: Fri<br />hour: 10<br />n: 29","wday: Sat<br />hour: 10<br />n: 23"],["wday: Sun<br />hour: 11<br />n: 24","wday: Mon<br />hour: 11<br />n: 29","wday: Tue<br />hour: 11<br />n: 27","wday: Wed<br />hour: 11<br />n: 16","wday: Thu<br />hour: 11<br />n: 23","wday: Fri<br />hour: 11<br />n: 18","wday: Sat<br />hour: 11<br />n: 19"],["wday: Sun<br />hour: 12<br />n: 21","wday: Mon<br />hour: 12<br />n: 24","wday: Tue<br />hour: 12<br />n: 20","wday: Wed<br />hour: 12<br />n: 19","wday: Thu<br />hour: 12<br />n: 14","wday: Fri<br />hour: 12<br />n: 19","wday: Sat<br />hour: 12<br />n: 20"],["wday: Sun<br />hour: 13<br />n: 28","wday: Mon<br />hour: 13<br />n: 27","wday: Tue<br />hour: 13<br />n: 18","wday: Wed<br />hour: 13<br />n: 24","wday: Thu<br />hour: 13<br />n: 29","wday: Fri<br />hour: 13<br />n: 20","wday: Sat<br />hour: 13<br />n: 20"],["wday: Sun<br />hour: 14<br />n: 22","wday: Mon<br />hour: 14<br />n: 38","wday: Tue<br />hour: 14<br />n: 24","wday: Wed<br />hour: 14<br />n: 33","wday: Thu<br />hour: 14<br />n: 19","wday: Fri<br />hour: 14<br />n: 17","wday: Sat<br />hour: 14<br />n: 22"],["wday: Sun<br />hour: 15<br />n: 16","wday: Mon<br />hour: 15<br />n: 22","wday: Tue<br />hour: 15<br />n: 13","wday: Wed<br />hour: 15<br />n: 19","wday: Thu<br />hour: 15<br />n: 23","wday: Fri<br />hour: 15<br />n: 15","wday: Sat<br />hour: 15<br />n: 14"],["wday: Sun<br />hour: 16<br />n: 21","wday: Mon<br />hour: 16<br />n: 26","wday: Tue<br />hour: 16<br />n: 22","wday: Wed<br />hour: 16<br />n: 17","wday: Thu<br />hour: 16<br />n: 20","wday: Fri<br />hour: 16<br />n: 18","wday: Sat<br />hour: 16<br />n: 19"],["wday: Sun<br />hour: 17<br />n: 10","wday: Mon<br />hour: 17<br />n: 18","wday: Tue<br />hour: 17<br />n: 18","wday: Wed<br />hour: 17<br />n: 15","wday: Thu<br />hour: 17<br />n: 15","wday: Fri<br />hour: 17<br />n: 26","wday: Sat<br />hour: 17<br />n: 12"],["wday: Sun<br />hour: 18<br />n: 17","wday: Mon<br />hour: 18<br />n: 15","wday: Tue<br />hour: 18<br />n: 17","wday: Wed<br />hour: 18<br />n: 14","wday: Thu<br />hour: 18<br />n: 19","wday: Fri<br />hour: 18<br />n: 13","wday: Sat<br />hour: 18<br />n: 13"],["wday: Sun<br />hour: 19<br />n: 18","wday: Mon<br />hour: 19<br />n: 17","wday: Tue<br />hour: 19<br />n:  7","wday: Wed<br />hour: 19<br />n: 27","wday: Thu<br />hour: 19<br />n: 16","wday: Fri<br />hour: 19<br />n: 15","wday: Sat<br />hour: 19<br />n: 17"],["wday: Sun<br />hour: 20<br />n: 19","wday: Mon<br />hour: 20<br />n: 17","wday: Tue<br />hour: 20<br />n: 14","wday: Wed<br />hour: 20<br />n: 16","wday: Thu<br />hour: 20<br />n: 17","wday: Fri<br />hour: 20<br />n: 20","wday: Sat<br />hour: 20<br />n: 16"],["wday: Sun<br />hour: 21<br />n:  7","wday: Mon<br />hour: 21<br />n: 10","wday: Tue<br />hour: 21<br />n: 18","wday: Wed<br />hour: 21<br />n: 14","wday: Thu<br />hour: 21<br />n: 13","wday: Fri<br />hour: 21<br />n: 16","wday: Sat<br />hour: 21<br />n: 15"],["wday: Sun<br />hour: 22<br />n: 15","wday: Mon<br />hour: 22<br />n: 22","wday: Tue<br />hour: 22<br />n:  9","wday: Wed<br />hour: 22<br />n: 10","wday: Thu<br />hour: 22<br />n: 15","wday: Fri<br />hour: 22<br />n: 13","wday: Sat<br />hour: 22<br />n: 10"],["wday: Sun<br />hour: 23<br />n: 11","wday: Mon<br />hour: 23<br />n:  6","wday: Tue<br />hour: 23<br />n:  6","wday: Wed<br />hour: 23<br />n:  5","wday: Thu<br />hour: 23<br />n:  9","wday: Fri<br />hour: 23<br />n:  8","wday: Sat<br />hour: 23<br />n:  6"]],"colorscale":[[0,"#FAF9FC"],[0.027027027027027,"#F5F4FA"],[0.0540540540540541,"#F0EEF7"],[0.0810810810810811,"#EBE8F4"],[0.108108108108108,"#E6E3F2"],[0.135135135135135,"#E1DDEF"],[0.162162162162162,"#DCD8EC"],[0.189189189189189,"#D7D2E9"],[0.216216216216216,"#D2CCE7"],[0.243243243243243,"#CDC7E4"],[0.27027027027027,"#C8C2E1"],[0.297297297297297,"#C3BCDF"],[0.324324324324324,"#BEB7DC"],[0.351351351351351,"#BAB1D9"],[0.378378378378378,"#B5ACD7"],[0.405405405405405,"#B0A7D4"],[0.432432432432432,"#ABA1D1"],[0.459459459459459,"#A69CCE"],[0.486486486486487,"#A197CC"],[0.513513513513513,"#9C92C9"],[0.540540540540541,"#978CC6"],[0.567567567567568,"#9287C4"],[0.594594594594595,"#8D82C1"],[0.621621621621622,"#887DBE"],[0.648648648648649,"#8378BB"],[0.675675675675676,"#7D73B9"],[0.702702702702703,"#786EB6"],[0.72972972972973,"#7369B3"],[0.756756756756757,"#6E64B1"],[0.783783783783784,"#695FAE"],[0.864864864864865,"#5851A6"],[0.972972972972973,"#413F9B"],[1,"#3A3A98"]],"type":"heatmap","showscale":false,"autocolorscale":false,"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":48.5446243254463,"r":7.30593607305936,"b":51.0751349107513,"l":48.1527604815276},"font":{"color":"rgba(0,0,0,1)","family":"serif","size":18.5969281859693},"title":"Motor Vehicle Theft","titlefont":{"color":"rgba(0,0,0,1)","family":"serif","size":22.3163138231631},"xaxis":{"domain":[0,1],"type":"linear","autorange":false,"tickmode":"array","range":[0.4,7.6],"ticktext":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"tickvals":[1,2,3,4,5,6,7],"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"serif","size":18.5969281859693},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":"Day of the Week","titlefont":{"color":"rgba(0,0,0,1)","family":"serif","size":18.5969281859693},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"type":"linear","autorange":false,"tickmode":"array","range":[-1.7,24.7],"ticktext":["0","3","6","9","12","15","18","21"],"tickvals":[0,3,6,9,12,15,18,21],"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"serif","size":18.5969281859693},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"Hour","titlefont":{"color":"rgba(0,0,0,1)","family":"serif","size":18.5969281859693},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"serif","size":14.8775425487754}},"hovermode":"closest"},"source":"A","attrs":{"f065848cb":{"x":{},"y":{},"fill":{},"type":"ggplotly"}},"cur_data":"f065848cb","visdat":{"f065848cb":["function (y) ","x"]},"config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<p>Car thefts seem to happen on Monday afternoons and around noon time on Thursdays.</p>
</div>
<div id="robbery" class="section level3">
<h3>ROBBERY</h3>
<pre class="r"><code>rob = somerville %&gt;% filter(offense==&quot;ROBBERY&quot;) %&gt;% 
  count(hour, wday) %&gt;%  #Getting count by hour and day of the week.
  ggplot(aes(wday, hour, fill=n)) + geom_tile() + #create basic heatmap
  scale_fill_gradient2(guide=&quot;legend&quot;) + theme_tufte() + #legend structure &amp; tufte theme
  theme(text=element_text(size=14), axis.text = element_text(size=14)) + 
  labs(x=&quot;Day of the Week&quot;, y=&quot;Hour&quot;, title=&quot;Robbery&quot;) + #labels
  guides(fill=guide_legend(title=&quot;Crimes&quot;)) + 
  scale_y_continuous(breaks=seq(0, 23, 3)) #changing y axis

ggplotly(rob)</code></pre>
<div id="f021f45650" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="f021f45650">{"x":{"data":[{"x":[1,2,3,4,5,6,7],"y":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"z":[[0.684210526315789,0.368421052631579,0.631578947368421,0.473684210526316,0.210526315789474,0.315789473684211,1],[0.421052631578947,0.368421052631579,0.210526315789474,0.368421052631579,0.263157894736842,0.263157894736842,0.684210526315789],[0.210526315789474,0.0526315789473684,0.263157894736842,0.105263157894737,0.210526315789474,0.105263157894737,0.421052631578947],[0.315789473684211,0.105263157894737,0,null,null,0,0.315789473684211],[0.0526315789473684,null,null,null,null,0,0.105263157894737],[0,0.210526315789474,0,0.0526315789473684,0,0.105263157894737,0],[0.0526315789473684,0,0,null,0.0526315789473684,0.105263157894737,0],[0,0,0.157894736842105,0.0526315789473684,0.105263157894737,0.157894736842105,0.0526315789473684],[0.0526315789473684,null,0,0,null,0.105263157894737,0.105263157894737],[0.0526315789473684,0.210526315789474,0,0.210526315789474,0,0.105263157894737,0],[0.210526315789474,0.368421052631579,0.210526315789474,0.315789473684211,0,0.210526315789474,0.263157894736842],[0.0526315789473684,0.0526315789473684,0.157894736842105,0.368421052631579,0.315789473684211,0.368421052631579,0.157894736842105],[0.157894736842105,0.157894736842105,0.421052631578947,0.157894736842105,0,0.526315789473684,0.0526315789473684],[0,0.368421052631579,0.368421052631579,0.263157894736842,0.105263157894737,0.0526315789473684,0.105263157894737],[0.210526315789474,0.631578947368421,0.368421052631579,0.263157894736842,0.315789473684211,0.210526315789474,0.0526315789473684],[0.263157894736842,0.526315789473684,0.368421052631579,0.210526315789474,0.368421052631579,0.157894736842105,0],[0.736842105263158,0.526315789473684,0.263157894736842,0.105263157894737,0.263157894736842,0.578947368421053,0.105263157894737],[0.0526315789473684,0.473684210526316,0.421052631578947,0.263157894736842,0.368421052631579,0.421052631578947,0.315789473684211],[0.631578947368421,0.526315789473684,0.368421052631579,0.105263157894737,0.368421052631579,0.210526315789474,0.315789473684211],[0.421052631578947,0.684210526315789,0.631578947368421,0.842105263157895,0.263157894736842,0.263157894736842,0.473684210526316],[0.736842105263158,0.736842105263158,0.526315789473684,0.421052631578947,0.736842105263158,0.631578947368421,0.631578947368421],[0.684210526315789,0.947368421052632,0.684210526315789,0.684210526315789,0.526315789473684,0.526315789473684,0.315789473684211],[0.631578947368421,0.842105263157895,0.842105263157895,0.578947368421053,0.684210526315789,0.526315789473684,0.947368421052632],[0.526315789473684,0.473684210526316,0.842105263157895,0.684210526315789,0.368421052631579,0.368421052631579,0.526315789473684]],"text":[["wday: Sun<br />hour:  0<br />n: 14","wday: Mon<br />hour:  0<br />n:  8","wday: Tue<br />hour:  0<br />n: 13","wday: Wed<br />hour:  0<br />n: 10","wday: Thu<br />hour:  0<br />n:  5","wday: Fri<br />hour:  0<br />n:  7","wday: Sat<br />hour:  0<br />n: 20"],["wday: Sun<br />hour:  1<br />n:  9","wday: Mon<br />hour:  1<br />n:  8","wday: Tue<br />hour:  1<br />n:  5","wday: Wed<br />hour:  1<br />n:  8","wday: Thu<br />hour:  1<br />n:  6","wday: Fri<br />hour:  1<br />n:  6","wday: Sat<br />hour:  1<br />n: 14"],["wday: Sun<br />hour:  2<br />n:  5","wday: Mon<br />hour:  2<br />n:  2","wday: Tue<br />hour:  2<br />n:  6","wday: Wed<br />hour:  2<br />n:  3","wday: Thu<br />hour:  2<br />n:  5","wday: Fri<br />hour:  2<br />n:  3","wday: Sat<br />hour:  2<br />n:  9"],["wday: Sun<br />hour:  3<br />n:  7","wday: Mon<br />hour:  3<br />n:  3","wday: Tue<br />hour:  3<br />n:  1",null,null,"wday: Fri<br />hour:  3<br />n:  1","wday: Sat<br />hour:  3<br />n:  7"],["wday: Sun<br />hour:  4<br />n:  2",null,null,null,null,"wday: Fri<br />hour:  4<br />n:  1","wday: Sat<br />hour:  4<br />n:  3"],["wday: Sun<br />hour:  5<br />n:  1","wday: Mon<br />hour:  5<br />n:  5","wday: Tue<br />hour:  5<br />n:  1","wday: Wed<br />hour:  5<br />n:  2","wday: Thu<br />hour:  5<br />n:  1","wday: Fri<br />hour:  5<br />n:  3","wday: Sat<br />hour:  5<br />n:  1"],["wday: Sun<br />hour:  6<br />n:  2","wday: Mon<br />hour:  6<br />n:  1","wday: Tue<br />hour:  6<br />n:  1",null,"wday: Thu<br />hour:  6<br />n:  2","wday: Fri<br />hour:  6<br />n:  3","wday: Sat<br />hour:  6<br />n:  1"],["wday: Sun<br />hour:  7<br />n:  1","wday: Mon<br />hour:  7<br />n:  1","wday: Tue<br />hour:  7<br />n:  4","wday: Wed<br />hour:  7<br />n:  2","wday: Thu<br />hour:  7<br />n:  3","wday: Fri<br />hour:  7<br />n:  4","wday: Sat<br />hour:  7<br />n:  2"],["wday: Sun<br />hour:  8<br />n:  2",null,"wday: Tue<br />hour:  8<br />n:  1","wday: Wed<br />hour:  8<br />n:  1",null,"wday: Fri<br />hour:  8<br />n:  3","wday: Sat<br />hour:  8<br />n:  3"],["wday: Sun<br />hour:  9<br />n:  2","wday: Mon<br />hour:  9<br />n:  5","wday: Tue<br />hour:  9<br />n:  1","wday: Wed<br />hour:  9<br />n:  5","wday: Thu<br />hour:  9<br />n:  1","wday: Fri<br />hour:  9<br />n:  3","wday: Sat<br />hour:  9<br />n:  1"],["wday: Sun<br />hour: 10<br />n:  5","wday: Mon<br />hour: 10<br />n:  8","wday: Tue<br />hour: 10<br />n:  5","wday: Wed<br />hour: 10<br />n:  7","wday: Thu<br />hour: 10<br />n:  1","wday: Fri<br />hour: 10<br />n:  5","wday: Sat<br />hour: 10<br />n:  6"],["wday: Sun<br />hour: 11<br />n:  2","wday: Mon<br />hour: 11<br />n:  2","wday: Tue<br />hour: 11<br />n:  4","wday: Wed<br />hour: 11<br />n:  8","wday: Thu<br />hour: 11<br />n:  7","wday: Fri<br />hour: 11<br />n:  8","wday: Sat<br />hour: 11<br />n:  4"],["wday: Sun<br />hour: 12<br />n:  4","wday: Mon<br />hour: 12<br />n:  4","wday: Tue<br />hour: 12<br />n:  9","wday: Wed<br />hour: 12<br />n:  4","wday: Thu<br />hour: 12<br />n:  1","wday: Fri<br />hour: 12<br />n: 11","wday: Sat<br />hour: 12<br />n:  2"],["wday: Sun<br />hour: 13<br />n:  1","wday: Mon<br />hour: 13<br />n:  8","wday: Tue<br />hour: 13<br />n:  8","wday: Wed<br />hour: 13<br />n:  6","wday: Thu<br />hour: 13<br />n:  3","wday: Fri<br />hour: 13<br />n:  2","wday: Sat<br />hour: 13<br />n:  3"],["wday: Sun<br />hour: 14<br />n:  5","wday: Mon<br />hour: 14<br />n: 13","wday: Tue<br />hour: 14<br />n:  8","wday: Wed<br />hour: 14<br />n:  6","wday: Thu<br />hour: 14<br />n:  7","wday: Fri<br />hour: 14<br />n:  5","wday: Sat<br />hour: 14<br />n:  2"],["wday: Sun<br />hour: 15<br />n:  6","wday: Mon<br />hour: 15<br />n: 11","wday: Tue<br />hour: 15<br />n:  8","wday: Wed<br />hour: 15<br />n:  5","wday: Thu<br />hour: 15<br />n:  8","wday: Fri<br />hour: 15<br />n:  4","wday: Sat<br />hour: 15<br />n:  1"],["wday: Sun<br />hour: 16<br />n: 15","wday: Mon<br />hour: 16<br />n: 11","wday: Tue<br />hour: 16<br />n:  6","wday: Wed<br />hour: 16<br />n:  3","wday: Thu<br />hour: 16<br />n:  6","wday: Fri<br />hour: 16<br />n: 12","wday: Sat<br />hour: 16<br />n:  3"],["wday: Sun<br />hour: 17<br />n:  2","wday: Mon<br />hour: 17<br />n: 10","wday: Tue<br />hour: 17<br />n:  9","wday: Wed<br />hour: 17<br />n:  6","wday: Thu<br />hour: 17<br />n:  8","wday: Fri<br />hour: 17<br />n:  9","wday: Sat<br />hour: 17<br />n:  7"],["wday: Sun<br />hour: 18<br />n: 13","wday: Mon<br />hour: 18<br />n: 11","wday: Tue<br />hour: 18<br />n:  8","wday: Wed<br />hour: 18<br />n:  3","wday: Thu<br />hour: 18<br />n:  8","wday: Fri<br />hour: 18<br />n:  5","wday: Sat<br />hour: 18<br />n:  7"],["wday: Sun<br />hour: 19<br />n:  9","wday: Mon<br />hour: 19<br />n: 14","wday: Tue<br />hour: 19<br />n: 13","wday: Wed<br />hour: 19<br />n: 17","wday: Thu<br />hour: 19<br />n:  6","wday: Fri<br />hour: 19<br />n:  6","wday: Sat<br />hour: 19<br />n: 10"],["wday: Sun<br />hour: 20<br />n: 15","wday: Mon<br />hour: 20<br />n: 15","wday: Tue<br />hour: 20<br />n: 11","wday: Wed<br />hour: 20<br />n:  9","wday: Thu<br />hour: 20<br />n: 15","wday: Fri<br />hour: 20<br />n: 13","wday: Sat<br />hour: 20<br />n: 13"],["wday: Sun<br />hour: 21<br />n: 14","wday: Mon<br />hour: 21<br />n: 19","wday: Tue<br />hour: 21<br />n: 14","wday: Wed<br />hour: 21<br />n: 14","wday: Thu<br />hour: 21<br />n: 11","wday: Fri<br />hour: 21<br />n: 11","wday: Sat<br />hour: 21<br />n:  7"],["wday: Sun<br />hour: 22<br />n: 13","wday: Mon<br />hour: 22<br />n: 17","wday: Tue<br />hour: 22<br />n: 17","wday: Wed<br />hour: 22<br />n: 12","wday: Thu<br />hour: 22<br />n: 14","wday: Fri<br />hour: 22<br />n: 11","wday: Sat<br />hour: 22<br />n: 19"],["wday: Sun<br />hour: 23<br />n: 11","wday: Mon<br />hour: 23<br />n: 10","wday: Tue<br />hour: 23<br />n: 17","wday: Wed<br />hour: 23<br />n: 14","wday: Thu<br />hour: 23<br />n:  8","wday: Fri<br />hour: 23<br />n:  8","wday: Sat<br />hour: 23<br />n: 11"]],"colorscale":[[0,"#F6F4FA"],[0.0526315789473684,"#ECE9F5"],[0.105263157894737,"#E3DFF0"],[0.157894736842105,"#D9D4EB"],[0.210526315789474,"#D0CAE5"],[0.263157894736842,"#C6BFE0"],[0.315789473684211,"#BDB5DB"],[0.368421052631579,"#B4ABD6"],[0.421052631578947,"#AAA1D1"],[0.473684210526316,"#A197CC"],[0.526315789473684,"#978DC7"],[0.578947368421053,"#8E83C1"],[0.631578947368421,"#847ABC"],[0.684210526315789,"#7A70B7"],[0.736842105263158,"#7167B2"],[0.842105263157895,"#5C54A8"],[0.947368421052632,"#46439D"],[1,"#3A3A98"]],"type":"heatmap","showscale":false,"autocolorscale":false,"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":48.5446243254463,"r":7.30593607305936,"b":51.0751349107513,"l":48.1527604815276},"font":{"color":"rgba(0,0,0,1)","family":"serif","size":18.5969281859693},"title":"Robbery","titlefont":{"color":"rgba(0,0,0,1)","family":"serif","size":22.3163138231631},"xaxis":{"domain":[0,1],"type":"linear","autorange":false,"tickmode":"array","range":[0.4,7.6],"ticktext":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"tickvals":[1,2,3,4,5,6,7],"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"serif","size":18.5969281859693},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":"Day of the Week","titlefont":{"color":"rgba(0,0,0,1)","family":"serif","size":18.5969281859693},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"type":"linear","autorange":false,"tickmode":"array","range":[-1.7,24.7],"ticktext":["0","3","6","9","12","15","18","21"],"tickvals":[0,3,6,9,12,15,18,21],"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"serif","size":18.5969281859693},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"Hour","titlefont":{"color":"rgba(0,0,0,1)","family":"serif","size":18.5969281859693},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"serif","size":14.8775425487754}},"hovermode":"closest"},"source":"A","attrs":{"f04de44747":{"x":{},"y":{},"fill":{},"type":"ggplotly"}},"cur_data":"f04de44747","visdat":{"f04de44747":["function (y) ","x"]},"config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<p>This makes sense! Most robberies happen Saturday late at night/early in the morning.</p>
</div>
<div id="theft-from-motor-vehicle" class="section level3">
<h3>THEFT FROM MOTOR VEHICLE</h3>
<pre class="r"><code>theft = somerville %&gt;% filter(offense==&quot;THEFT FROM MOTOR VEHICLE&quot;) %&gt;% 
  count(hour, wday) %&gt;%  #Getting count by hour and day of the week.
  ggplot(aes(wday, hour, fill=n)) + geom_tile() + #create basic heatmap
  scale_fill_gradient2(guide=&quot;legend&quot;) + theme_tufte() + #legend structure &amp; tufte theme
  theme(text=element_text(size=14), axis.text = element_text(size=14)) + 
  labs(x=&quot;Day of the Week&quot;, y=&quot;Hour&quot;, title=&quot;Theft from Motor Vehicle&quot;) + #labels
  guides(fill=guide_legend(title=&quot;Crimes&quot;)) + 
  scale_y_continuous(breaks=seq(0, 23, 3)) #changing y axis

#Making it interactive
ggplotly(theft)</code></pre>
<p><div id="f0186a2758" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="f0186a2758">{"x":{"data":[{"x":[1,2,3,4,5,6,7],"y":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"z":[[0.213592233009709,0.16504854368932,0.106796116504854,0.135922330097087,0.0776699029126214,0.116504854368932,0.106796116504854],[0.194174757281553,0.0776699029126214,0.0679611650485437,0.106796116504854,0.0194174757281553,0.116504854368932,0.116504854368932],[0.087378640776699,0.058252427184466,0.0388349514563107,0.0679611650485437,0.0485436893203883,0.0388349514563107,0.0388349514563107],[0.0679611650485437,0.0388349514563107,0.0679611650485437,0.0194174757281553,0.0388349514563107,0.0485436893203883,0.058252427184466],[0.0388349514563107,0,0.0194174757281553,null,0.058252427184466,0.0388349514563107,0.029126213592233],[0.029126213592233,0.029126213592233,0.12621359223301,0.0194174757281553,0.0970873786407767,0.058252427184466,0.029126213592233],[0.0679611650485437,0.29126213592233,0.281553398058252,0.310679611650485,0.242718446601942,0.184466019417476,0.145631067961165],[0.12621359223301,0.650485436893204,0.601941747572815,0.776699029126214,0.592233009708738,0.699029126213592,0.203883495145631],[0.300970873786408,0.902912621359223,0.961165048543689,0.87378640776699,0.786407766990291,1,0.398058252427184],[0.495145631067961,0.70873786407767,0.932038834951456,0.737864077669903,0.718446601941748,0.737864077669903,0.504854368932039],[0.572815533980582,0.718446601941748,0.533980582524272,0.699029126213592,0.466019417475728,0.563106796116505,0.805825242718447],[0.70873786407767,0.572815533980582,0.466019417475728,0.359223300970874,0.533980582524272,0.475728155339806,0.592233009708738],[0.631067961165049,0.466019417475728,0.359223300970874,0.407766990291262,0.388349514563107,0.466019417475728,0.475728155339806],[0.631067961165049,0.601941747572815,0.359223300970874,0.407766990291262,0.398058252427184,0.368932038834951,0.495145631067961],[0.58252427184466,0.388349514563107,0.514563106796116,0.456310679611651,0.368932038834951,0.466019417475728,0.398058252427184],[0.446601941747573,0.378640776699029,0.310679611650485,0.41747572815534,0.320388349514563,0.378640776699029,0.359223300970874],[0.398058252427184,0.398058252427184,0.378640776699029,0.29126213592233,0.398058252427184,0.320388349514563,0.262135922330097],[0.41747572815534,0.320388349514563,0.242718446601942,0.330097087378641,0.262135922330097,0.233009708737864,0.213592233009709],[0.233009708737864,0.349514563106796,0.29126213592233,0.339805825242718,0.310679611650485,0.223300970873786,0.223300970873786],[0.398058252427184,0.252427184466019,0.320388349514563,0.300970873786408,0.320388349514563,0.203883495145631,0.233009708737864],[0.262135922330097,0.427184466019417,0.330097087378641,0.16504854368932,0.213592233009709,0.174757281553398,0.194174757281553],[0.213592233009709,0.339805825242718,0.359223300970874,0.213592233009709,0.194174757281553,0.203883495145631,0.281553398058252],[0.233009708737864,0.16504854368932,0.203883495145631,0.174757281553398,0.184466019417476,0.184466019417476,0.262135922330097],[0.12621359223301,0.0776699029126214,0.0776699029126214,0.087378640776699,0.155339805825243,0.12621359223301,0.155339805825243]],"text":[["wday: Sun<br />hour:  0<br />n:  23","wday: Mon<br />hour:  0<br />n:  18","wday: Tue<br />hour:  0<br />n:  12","wday: Wed<br />hour:  0<br />n:  15","wday: Thu<br />hour:  0<br />n:   9","wday: Fri<br />hour:  0<br />n:  13","wday: Sat<br />hour:  0<br />n:  12"],["wday: Sun<br />hour:  1<br />n:  21","wday: Mon<br />hour:  1<br />n:   9","wday: Tue<br />hour:  1<br />n:   8","wday: Wed<br />hour:  1<br />n:  12","wday: Thu<br />hour:  1<br />n:   3","wday: Fri<br />hour:  1<br />n:  13","wday: Sat<br />hour:  1<br />n:  13"],["wday: Sun<br />hour:  2<br />n:  10","wday: Mon<br />hour:  2<br />n:   7","wday: Tue<br />hour:  2<br />n:   5","wday: Wed<br />hour:  2<br />n:   8","wday: Thu<br />hour:  2<br />n:   6","wday: Fri<br />hour:  2<br />n:   5","wday: Sat<br />hour:  2<br />n:   5"],["wday: Sun<br />hour:  3<br />n:   8","wday: Mon<br />hour:  3<br />n:   5","wday: Tue<br />hour:  3<br />n:   8","wday: Wed<br />hour:  3<br />n:   3","wday: Thu<br />hour:  3<br />n:   5","wday: Fri<br />hour:  3<br />n:   6","wday: Sat<br />hour:  3<br />n:   7"],["wday: Sun<br />hour:  4<br />n:   5","wday: Mon<br />hour:  4<br />n:   1","wday: Tue<br />hour:  4<br />n:   3",null,"wday: Thu<br />hour:  4<br />n:   7","wday: Fri<br />hour:  4<br />n:   5","wday: Sat<br />hour:  4<br />n:   4"],["wday: Sun<br />hour:  5<br />n:   4","wday: Mon<br />hour:  5<br />n:   4","wday: Tue<br />hour:  5<br />n:  14","wday: Wed<br />hour:  5<br />n:   3","wday: Thu<br />hour:  5<br />n:  11","wday: Fri<br />hour:  5<br />n:   7","wday: Sat<br />hour:  5<br />n:   4"],["wday: Sun<br />hour:  6<br />n:   8","wday: Mon<br />hour:  6<br />n:  31","wday: Tue<br />hour:  6<br />n:  30","wday: Wed<br />hour:  6<br />n:  33","wday: Thu<br />hour:  6<br />n:  26","wday: Fri<br />hour:  6<br />n:  20","wday: Sat<br />hour:  6<br />n:  16"],["wday: Sun<br />hour:  7<br />n:  14","wday: Mon<br />hour:  7<br />n:  68","wday: Tue<br />hour:  7<br />n:  63","wday: Wed<br />hour:  7<br />n:  81","wday: Thu<br />hour:  7<br />n:  62","wday: Fri<br />hour:  7<br />n:  73","wday: Sat<br />hour:  7<br />n:  22"],["wday: Sun<br />hour:  8<br />n:  32","wday: Mon<br />hour:  8<br />n:  94","wday: Tue<br />hour:  8<br />n: 100","wday: Wed<br />hour:  8<br />n:  91","wday: Thu<br />hour:  8<br />n:  82","wday: Fri<br />hour:  8<br />n: 104","wday: Sat<br />hour:  8<br />n:  42"],["wday: Sun<br />hour:  9<br />n:  52","wday: Mon<br />hour:  9<br />n:  74","wday: Tue<br />hour:  9<br />n:  97","wday: Wed<br />hour:  9<br />n:  77","wday: Thu<br />hour:  9<br />n:  75","wday: Fri<br />hour:  9<br />n:  77","wday: Sat<br />hour:  9<br />n:  53"],["wday: Sun<br />hour: 10<br />n:  60","wday: Mon<br />hour: 10<br />n:  75","wday: Tue<br />hour: 10<br />n:  56","wday: Wed<br />hour: 10<br />n:  73","wday: Thu<br />hour: 10<br />n:  49","wday: Fri<br />hour: 10<br />n:  59","wday: Sat<br />hour: 10<br />n:  84"],["wday: Sun<br />hour: 11<br />n:  74","wday: Mon<br />hour: 11<br />n:  60","wday: Tue<br />hour: 11<br />n:  49","wday: Wed<br />hour: 11<br />n:  38","wday: Thu<br />hour: 11<br />n:  56","wday: Fri<br />hour: 11<br />n:  50","wday: Sat<br />hour: 11<br />n:  62"],["wday: Sun<br />hour: 12<br />n:  66","wday: Mon<br />hour: 12<br />n:  49","wday: Tue<br />hour: 12<br />n:  38","wday: Wed<br />hour: 12<br />n:  43","wday: Thu<br />hour: 12<br />n:  41","wday: Fri<br />hour: 12<br />n:  49","wday: Sat<br />hour: 12<br />n:  50"],["wday: Sun<br />hour: 13<br />n:  66","wday: Mon<br />hour: 13<br />n:  63","wday: Tue<br />hour: 13<br />n:  38","wday: Wed<br />hour: 13<br />n:  43","wday: Thu<br />hour: 13<br />n:  42","wday: Fri<br />hour: 13<br />n:  39","wday: Sat<br />hour: 13<br />n:  52"],["wday: Sun<br />hour: 14<br />n:  61","wday: Mon<br />hour: 14<br />n:  41","wday: Tue<br />hour: 14<br />n:  54","wday: Wed<br />hour: 14<br />n:  48","wday: Thu<br />hour: 14<br />n:  39","wday: Fri<br />hour: 14<br />n:  49","wday: Sat<br />hour: 14<br />n:  42"],["wday: Sun<br />hour: 15<br />n:  47","wday: Mon<br />hour: 15<br />n:  40","wday: Tue<br />hour: 15<br />n:  33","wday: Wed<br />hour: 15<br />n:  44","wday: Thu<br />hour: 15<br />n:  34","wday: Fri<br />hour: 15<br />n:  40","wday: Sat<br />hour: 15<br />n:  38"],["wday: Sun<br />hour: 16<br />n:  42","wday: Mon<br />hour: 16<br />n:  42","wday: Tue<br />hour: 16<br />n:  40","wday: Wed<br />hour: 16<br />n:  31","wday: Thu<br />hour: 16<br />n:  42","wday: Fri<br />hour: 16<br />n:  34","wday: Sat<br />hour: 16<br />n:  28"],["wday: Sun<br />hour: 17<br />n:  44","wday: Mon<br />hour: 17<br />n:  34","wday: Tue<br />hour: 17<br />n:  26","wday: Wed<br />hour: 17<br />n:  35","wday: Thu<br />hour: 17<br />n:  28","wday: Fri<br />hour: 17<br />n:  25","wday: Sat<br />hour: 17<br />n:  23"],["wday: Sun<br />hour: 18<br />n:  25","wday: Mon<br />hour: 18<br />n:  37","wday: Tue<br />hour: 18<br />n:  31","wday: Wed<br />hour: 18<br />n:  36","wday: Thu<br />hour: 18<br />n:  33","wday: Fri<br />hour: 18<br />n:  24","wday: Sat<br />hour: 18<br />n:  24"],["wday: Sun<br />hour: 19<br />n:  42","wday: Mon<br />hour: 19<br />n:  27","wday: Tue<br />hour: 19<br />n:  34","wday: Wed<br />hour: 19<br />n:  32","wday: Thu<br />hour: 19<br />n:  34","wday: Fri<br />hour: 19<br />n:  22","wday: Sat<br />hour: 19<br />n:  25"],["wday: Sun<br />hour: 20<br />n:  28","wday: Mon<br />hour: 20<br />n:  45","wday: Tue<br />hour: 20<br />n:  35","wday: Wed<br />hour: 20<br />n:  18","wday: Thu<br />hour: 20<br />n:  23","wday: Fri<br />hour: 20<br />n:  19","wday: Sat<br />hour: 20<br />n:  21"],["wday: Sun<br />hour: 21<br />n:  23","wday: Mon<br />hour: 21<br />n:  36","wday: Tue<br />hour: 21<br />n:  38","wday: Wed<br />hour: 21<br />n:  23","wday: Thu<br />hour: 21<br />n:  21","wday: Fri<br />hour: 21<br />n:  22","wday: Sat<br />hour: 21<br />n:  30"],["wday: Sun<br />hour: 22<br />n:  25","wday: Mon<br />hour: 22<br />n:  18","wday: Tue<br />hour: 22<br />n:  22","wday: Wed<br />hour: 22<br />n:  19","wday: Thu<br />hour: 22<br />n:  20","wday: Fri<br />hour: 22<br />n:  20","wday: Sat<br />hour: 22<br />n:  28"],["wday: Sun<br />hour: 23<br />n:  14","wday: Mon<br />hour: 23<br />n:   9","wday: Tue<br />hour: 23<br />n:   9","wday: Wed<br />hour: 23<br />n:  10","wday: Thu<br />hour: 23<br />n:  17","wday: Fri<br />hour: 23<br />n:  14","wday: Sat<br />hour: 23<br />n:  17"]],"colorscale":[[0,"#FDFDFE"],[0.0194174757281553,"#FAF9FC"],[0.029126213592233,"#F8F7FB"],[0.0388349514563107,"#F6F5FA"],[0.0485436893203883,"#F4F3F9"],[0.058252427184466,"#F2F0F8"],[0.0679611650485437,"#F0EEF7"],[0.0776699029126214,"#EFECF6"],[0.087378640776699,"#EDEAF5"],[0.0970873786407767,"#EBE8F4"],[0.106796116504854,"#E9E6F3"],[0.116504854368932,"#E7E4F2"],[0.12621359223301,"#E6E2F1"],[0.135922330097087,"#E4E0F0"],[0.145631067961165,"#E2DEEF"],[0.155339805825243,"#E0DCEE"],[0.16504854368932,"#DEDAED"],[0.174757281553398,"#DCD8EC"],[0.184466019417476,"#DBD6EB"],[0.194174757281553,"#D9D4EA"],[0.203883495145631,"#D7D2E9"],[0.213592233009709,"#D5D0E8"],[0.223300970873786,"#D3CEE7"],[0.233009708737864,"#D2CCE6"],[0.242718446601942,"#D0CAE5"],[0.252427184466019,"#CEC8E4"],[0.262135922330097,"#CCC6E3"],[0.281553398058252,"#C9C2E1"],[0.29126213592233,"#C7C0E0"],[0.300970873786408,"#C5BEDF"],[0.310679611650485,"#C3BCDE"],[0.320388349514563,"#C1BADE"],[0.330097087378641,"#C0B8DD"],[0.339805825242718,"#BEB6DC"],[0.349514563106796,"#BCB4DB"],[0.359223300970874,"#BAB2DA"],[0.368932038834951,"#B8B0D9"],[0.378640776699029,"#B6AED8"],[0.388349514563107,"#B5ACD7"],[0.398058252427184,"#B3AAD6"],[0.407766990291262,"#B1A8D5"],[0.41747572815534,"#AFA6D4"],[0.427184466019417,"#ADA4D3"],[0.446601941747573,"#AAA0D1"],[0.456310679611651,"#A89ED0"],[0.466019417475728,"#A69DCF"],[0.475728155339806,"#A49BCE"],[0.495145631067961,"#A197CC"],[0.504854368932039,"#9F95CB"],[0.514563106796116,"#9D93CA"],[0.533980582524272,"#998FC8"],[0.563106796116505,"#948AC5"],[0.572815533980582,"#9288C4"],[0.58252427184466,"#9086C3"],[0.592233009708738,"#8E84C2"],[0.601941747572815,"#8D82C1"],[0.631067961165049,"#877DBE"],[0.650485436893204,"#8379BC"],[0.699029126213592,"#7A70B7"],[0.70873786407767,"#786EB6"],[0.718446601941748,"#766CB5"],[0.737864077669903,"#7269B3"],[0.776699029126214,"#6B61AF"],[0.786407766990291,"#6960AE"],[0.805825242718447,"#655CAC"],[0.87378640776699,"#5750A5"],[0.902912621359223,"#514BA2"],[0.932038834951456,"#4A469F"],[0.961165048543689,"#43419C"],[1,"#3A3A98"]],"type":"heatmap","showscale":false,"autocolorscale":false,"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":48.5446243254463,"r":7.30593607305936,"b":51.0751349107513,"l":48.1527604815276},"font":{"color":"rgba(0,0,0,1)","family":"serif","size":18.5969281859693},"title":"Theft from Motor Vehicle","titlefont":{"color":"rgba(0,0,0,1)","family":"serif","size":22.3163138231631},"xaxis":{"domain":[0,1],"type":"linear","autorange":false,"tickmode":"array","range":[0.4,7.6],"ticktext":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"tickvals":[1,2,3,4,5,6,7],"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"serif","size":18.5969281859693},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":"Day of the Week","titlefont":{"color":"rgba(0,0,0,1)","family":"serif","size":18.5969281859693},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"type":"linear","autorange":false,"tickmode":"array","range":[-1.7,24.7],"ticktext":["0","3","6","9","12","15","18","21"],"tickvals":[0,3,6,9,12,15,18,21],"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"serif","size":18.5969281859693},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"Hour","titlefont":{"color":"rgba(0,0,0,1)","family":"serif","size":18.5969281859693},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"serif","size":14.8775425487754}},"hovermode":"closest"},"source":"A","attrs":{"f057952c69":{"x":{},"y":{},"fill":{},"type":"ggplotly"}},"cur_data":"f057952c69","visdat":{"f057952c69":["function (y) ","x"]},"config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script> It looks like most thefts from motor vehicles happen in the morning on weekdays.</p>
<p>There you have it a quick time series visualiation of crime in Somerville.</p>
</div>

    </section>
</article>

<footer id="post-meta" class="clearfix">
    <a href="https://twitter.com/translatedmed">
    <img class="avatar" src="/images/avatar.png">
    <div>
        <span class="dark">Jorge A Rodriguez MD</span>
        <span>I am a physician and informatician.</span>
    </div>
    </a>
    <section id="sharing">
        <a class="twitter" href="https://twitter.com/intent/tweet?text=%2fpost%2fcrimes-in-somerville-i%2f - Crimes%20in%20Somerville%20%28Time%20Series%29 by @translatedmed"><span class="icon-twitter"> tweet</span></a>

<a class="facebook" href="#" onclick="
    window.open(
      'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
      'facebook-share-dialog',
      'width=626,height=436');
    return false;"><span class="icon-facebook-rect"> Share</span>
</a>

    </section>
</footer>



<ul id="post-list" class="archive readmore">
    <h3>Read more</h3>

    
    
    
        <li>
            <a href="/post/where-are-the-students-who-are-english-learners-in-ma/">Where are the students who are English Learners in MA?<aside class="dates">Apr 29 2018</aside></a>
        </li>
    
        <li>
            <a href="/post/where-are-the-students-who-are-english-learners-in-ma/">Where are the students who are English Learners in MA?<aside class="dates">Apr 29 2018</aside></a>
        </li>
    
        <li>
            <a href="/post/boston-limited-english-proficiency-spanish/">Boston Limited English Proficient Population: Spanish<aside class="dates">Feb 3 2018</aside></a>
        </li>
    
        <li>
            <a href="/post/2018-01-18-the-digital-divide-in-the-u-s-ii/">The Digital Divide in the U.S. II<aside class="dates">Jan 18 2018</aside></a>
        </li>
    
        <li>
            <a href="/post/the-digital-divide-in-the-u-s/">The Digital Divide in the U.S.<aside class="dates">Jan 17 2018</aside></a>
        </li>
    
        <li>
            <a href="/post/income-along-the-boston-t-iv/">Income Along the Boston T [Blue Line]<aside class="dates">Jan 4 2018</aside></a>
        </li>
    
        <li>
            <a href="/post/income-along-the-boston-t-iii/">Income Along the Boston T [Green Line]<aside class="dates">Jan 2 2018</aside></a>
        </li>
    
        <li>
            <a href="/post/income-along-the-boston-t-ii/">Income Along the Boston T [Red Line]<aside class="dates">Dec 21 2017</aside></a>
        </li>
    
        <li>
            <a href="/post/income-along-the-boston-t/">Income Along the Boston T [Orange Line]<aside class="dates">Dec 12 2017</aside></a>
        </li>
    
        <li>
            <a href="/post/call-me-anytime/">Call Me Anytime<aside class="dates">Feb 20 2017</aside></a>
        </li>
    
</ul>



        <footer id="footer">
    
        <div id="social">

	
	
    <a class="symbol" href="https://www.linkedin.com/in/jorgearodriguezmd">
        <i class="fa fa-linkedin"></i>
    </a>
    
    <a class="symbol" href="https://www.twitter.com/translatedmed">
        <i class="fa fa-twitter"></i>
    </a>
    


</div>

    
    <p class="small">
    
        ¬© Copyright 2018 Jorge A Rodriguez MD
    
    </p>
</footer>

    </section>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/highlight.js"></script>
<script>hljs.initHighlightingOnLoad();</script>




<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-111273192-1', 'auto');
ga('send', 'pageview');
</script>


</body>
</html>
